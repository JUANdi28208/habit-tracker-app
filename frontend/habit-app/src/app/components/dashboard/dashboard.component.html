<div class="min-vh-100" style="background: #f8f9fa;">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
    <div class="container-fluid px-4">
      <a class="navbar-brand text-white fw-bold fs-4" href="#">
        <span class="fs-3">🌱</span> Habit Tracker
      </a>
      <div class="d-flex align-items-center gap-3">
        <span class="text-white d-none d-md-block">
          Hola, <strong>{{ currentUser?.username }}</strong> 👋
        </span>
        <button class="btn btn-outline-light" (click)="logout()">
          Cerrar Sesión
        </button>
      </div>
    </div>
  </nav>

  <div class="container-fluid px-4 py-4">
    <!-- Stats Cards -->
    <div class="row g-4 mb-4" *ngIf="stats">
      <div class="col-md-3">
        <div class="stat-card">
          <div class="stat-number text-success">{{ stats.total_habits }}</div>
          <div class="stat-label">Total Hábitos</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="stat-card">
          <div class="stat-number text-primary">{{ stats.active_habits }}</div>
          <div class="stat-label">Hábitos Activos</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="stat-card">
          <div class="stat-number text-warning">{{ stats.best_streak }} 🔥</div>
          <div class="stat-label">Mejor Racha</div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="stat-card">
          <div class="stat-number text-info">{{ stats.total_completions }}</div>
          <div class="stat-label">Total Completados</div>
        </div>
      </div>
    </div>

    <!-- Botón Nuevo Hábito -->
    <div class="row mb-4">
      <div class="col-12">
        <button class="btn btn-gradient btn-lg w-100 fw-semibold" (click)="toggleHabitForm()">
          <span *ngIf="!showHabitForm">➕ Crear Nuevo Hábito</span>
          <span *ngIf="showHabitForm">❌ Cancelar</span>
        </button>
      </div>
    </div>

    <!-- Formulario de Hábito -->
    <app-habit-form 
      *ngIf="showHabitForm" 
      (habitCreated)="onHabitCreated()">
    </app-habit-form>

    <!-- Lista de Hábitos -->
    <app-habit-list 
      [habits]="habits" 
      (habitsChanged)="loadData()">
    </app-habit-list>
  </div>
</div>